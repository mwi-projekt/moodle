{"version":3,"file":"university_map.min.js","sources":["../src/university_map.js"],"names":["define","$","Ajax","Notification","Str","let","map","markersLayer","leafletLib","strings","createBaseLayers","Streets","tileLayer","attribution","maxZoom","noWrap","Satellite","CartoDB Light","CartoDB Dark","setupLoadingControl","tilesLoading","on","e","layer","_url","addClass","removeClass","showLoadingState","$mapContainer","$loadingOverlay","find","show","setTimeout","fadeOut","showStatusMessage","type","message","alertClass","success","warning","error","info","icon","statusHtml","length","prepend","html","addUniversitiesToMap","console","log","clearLayers","countryClusters","markers","universities","forEach","marker","university","latitude","longitude","createUniversityMarker","addLayer","push","country","setupMarkerWorldWrapping","fitMapToMarkers","updateUniversityCount","createUniversityIcon","title","name","bindPopup","createPopupContent","maxWidth","className","this","openPopup","universityData","iconColor","available_slots","divIcon","iconSize","iconAnchor","popupAnchor","latlng","getLatLng","setLatLng","lat","lng","updateMarkerVisibility","bounds","getBounds","getZoom","contains","hasLayer","featureGroup","fitBounds","padding","setZoom","setView","$counter","text","count","document","content","city","availableSlots","reports_count","reports","detail_url","viewDetails","setupViewSwitcher","preventDefault","$this","currentTarget","view","attr","split","hide","invalidateSize","init","async","courseModuleId","cmid","await","results","get_strings","key","component","loadingUniversities","mapLoadingError","leafletNotLoaded","mapCreationError","warn","ready","L","window","exception","worldBounds","latLngBounds","latLng","center","zoom","minZoom","maxBounds","maxBoundsViscosity","worldCopyJump","zoomControl","control","position","addTo","baseLayers","layerControl","layers","collapsed","layerGroup","scale","metric","imperial","response","call","methodname","args"],"mappings":"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"}